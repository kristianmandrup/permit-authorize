// Generated by LiveScript 1.2.0
(function(){
  var Normalizer, toString$ = {}.toString;
  module.exports = Normalizer = (function(){
    Normalizer.displayName = 'Normalizer';
    var prototype = Normalizer.prototype, constructor = Normalizer;
    function Normalizer(args){
      this.args = args;
      if (toString$.call(this.args).slice(8, -1) === 'Object') {
        this.args = [this.args];
      }
    }
    prototype.setUser = function(user){
      this.user = user;
      return this;
    };
    prototype.userObj = function(){
      if (this.user != null) {
        return {
          user: this.user
        };
      } else {
        return {};
      }
    };
    prototype.normalized = function(){
      return import$(this.userObj(), this.normalizedObj());
    };
    prototype.normalizedObj = function(){
      return this.object() || this.createObject();
    };
    prototype.createObject = function(){
      return this.ctxObj() || this.baseObj();
    };
    prototype.ctxObj = function(){
      var ref$;
      if (this.args[2]) {
        return ref$ = this.baseObj(), ref$.ctx = this.args[2], ref$;
      }
    };
    prototype.baseObj = function(){
      return {
        action: this.args[0],
        subject: this.args[1]
      };
    };
    prototype.object = function(){
      if (toString$.call(this.args[0]).slice(8, -1) === 'Object') {
        return this.args[0];
      }
    };
    return Normalizer;
  }());
  function import$(obj, src){
    var own = {}.hasOwnProperty;
    for (var key in src) if (own.call(src, key)) obj[key] = src[key];
    return obj;
  }
}).call(this);
